CHALLENGES OF DIGITAL FAUVEL

Alison Y. Chang & Brendan K. Chou, Summer 2013

### Encoding

Columns and objects - A page aggregates columns, and normally columns would then aggregate smaller elements (i.e. poetry, music, images). But how about objects that stretch over multiple columns or even multiple pages? It then makes less sense to have a column contain an object, bc then multi-column objects would belong to multiple columns. Should columns be an element (i.e. <column>a</column>) or an attribute (i.e. <lg id="Te_0035-0048" column="a">)? Should a content XML file even worry about columns? - In this case, we ended up concluding that the layout XML would indicate columns.

### Drop cap encoding

Do we need to indicate drop caps (embellished letters)? Why would we? - if someone wants to study where they appear, or if we need to render the translation overlay with larger first-letters whenever the original text had them. But is there really a point to making the first letter of, say, the English translation larger? It is not how the original text appeared; in most cases, it won't even be the same letter. In our case, I decided to only encode drop caps for the original text, and I settled on using a tag (instead of a line of poetry having an element "<l dropcap="F">). I then had to decide how to indicate the drop cap - If the first word is Fauvel, and the F is drop capped, do I place the <dc> tag around the whole line? The first word? The first letter? Do the word(s) contained in the inner text of the drop cap appear again outside of it? I had to keep in mind how each choice would affect search capabilities - i.e. if the double appearance would cause the search to return twice, etc. In the end, I chose to include only the first letter in the drop cap tag, and have the full first word outside of the tag: i.e. <l n="50" pn="3"><dc>F</dc>Fauvel doucement…</l>

### Defining object categories

The simplest categories, as outlined by Alan Thorne in his paper on TEI/XML for Fauvel, are poetry, lyrics, and images. However, I quickly found that there are many more object types - 15-20 genres of music, a few types of text (i.e Prieres and rubriques), and other things, like the ending scribal explicit, that only appear once or twice. Finding these objects meant that I had to rethink the original “three category” organization we had envisioned for Fauvel. The music genres were perhaps easiest, despite some genres including both music and text. However, with text objects like rubriques appearing so few times in comparison to the thousands of lines of poetry, it seemed strange to place rubriques and poetry on the same level, both as comparable types of text. Furthermore, I had to consider whether these rare objects ought to be accounted for in TextReader.java (i.e. a separate method or loop specifically designed for the last two lines, the scribal explicit), or if I should merely have the program print them as appears and fix them manually afterwards.

### Counterparts

Many of the objects in Fauvel (especially music objects) stretched across multiple pages. While this is a simple enough concept in studying the humanities or musicology, it proves to be trickier in a digital sense. Since each object’s ID tag includes its page number, a music object that spans more than one page could either have one tag and exist as a single part or be broken into several parts, each with a unique tag. In the latter case, we would then need a way to identify that several tags are actually referring to parts of the same object. While more complicated, the second option seemed more fitting because it would more accurately represent the structure of the music object in Fauvel, with a special Counterpart object that had a primary String “name” (the first tag) and a list of other names (the other tags). The lyrics within the music object would also need to be split up into parts; although Strubel did not indicate these page breaks in his edition, I referred to actual images of Fauvel’s folios to divide the original text and used my best judgment for the other translations. Since the structure of the manuscript itself was to include whatever fit on that page and then switch to a new one, there were many lines or even words that split across page breaks. This break introduced a new issue of whether the word should be included within the tag of the first page, the second, or both, keeping in mind the risks of losing searchability (i.e. a search for “torcher” will not return a lyric in which “tor” appears on one page and “cher” on another) versus the risks of redundancy (i.e. including the full word twice introduces the danger of seeing “torcher torcher” when both parts’ inner text is returned as lyrics).

### Ambiguity in Strubel

While we are surely thankful that the Strubel edition (in PDF form) of all Fauvel original text + modern French translations exists, copying and pasting from that PDF to a format convertible into an XML was not as simple as it may seem. First of all, the OCR was not perfect, and we had to closely inspect our text for mistakes, from interpreting line number "5050" as "soso" to the French word "com" as "corn", from missing indications of a new page to mistakenly placed column and page breaks, from many appearances of "Fauve!" or "Fauve[" to various "."s and ";" that were actually random, meaningless marks on the page. In addition, many accented characters or other special markings would occasionally be lost when working in certain text editors. Even more confusing were the numerous cases in the Modern French when Strubel seemed to run out of space to finish a line and would therefore stick it (preceded by a "[") on either the line above or below - this dual solution was perhaps the most perplexing, especially in the case when several lines in a row are truncated and continued elsewhere. In some cases, especially for the original text, we were able to consult the actual manuscript or other resources to figure out what was accurate, but in other cases, such as the "[" truncations of poetry lines in Modern French, we (Jamie and I) had to simply use our best judgment (occasionally with limited help of Google Translate). 

### "Page by page" numbering

Since the poetry of Fauvel is all continuous, ranging from 1 to nearly 6000, numbering the lines of poetry in that sense is simple. However, some Fauvel scholars have mentioned potential use for "page by page" numbering - i.e. giving each line of poetry an index on that page, starting over from 1 on each new page; the 524th line of the poem could then also be the 4th line on its page. While we have not yet called upon the "pn" attribute in any search or other capabilities, it exists for every line of poetry (<l>), following the "n" (overall line number attribute). 

### Search Capabilities

Multi-word search - While it is easy to match or find an exact phrase with more than 1 word, assuming they appear in that exact order, it is much trickier to treat the multiple words independently. One question that arises is how close together the words should appear in the text to qualify as a search result - if a user searches "torcher Fauvel", is it expected that an entire page will be marked as a match if the two words each appear once, 50 lines apart? Should every word - say, in a 5 word search - HAVE to appear in order to return a match, or can a passage that has 4 out of 5 satisfy the user? Many of these answers depend on whether the user is searching for a specific segment - say 5 lines, which is what we are using for now - that uses the specific words "Fortuna" (Fortune) and "Fauvel" versus a segment with the more general topic of Fortuna and Fauvel - in the latter case, the search breadth would perhaps need to be wider than 5 lines. I had to make a lot of choices decisively in order to move forward with the coding, while allowing for later flexibility and adjustment. For example, the multi-word search currently only returns results that match every single search word, no matter how many there are. However, I was careful to mark off an adjustable section of code, for the purposes of easier re-design should someone decide later to allow more lenient search returns. Since multi-word search can include anything from two words to technically any number above that, I had to keep that in mind when designing things like the styling of the text excerpt in the result close up section (where a thumbnail and text excerpt for a selected search result are displayed), since I needed to be able to search for X number of words and bold those only, in any order, and whether some of them appeared adjacent to other search words or not.

### Loading in Background Threads

I was unable to get the translation boxes and bounding boxes to load in the background. This causes some lag when pages are changed. I was able to get the images to load in a background thread during page changes and also able to get the searches to run on a background thread, so perhaps these can provide some insight on how to transfer this to translation and bounding box loading.

### Saved Pages Functionality

There is a commented-out save-page button in SurfaceWindow1.xaml. This button has the functionality to greate a SavedPage object. There is also a button on the sidebar that would open up a SideBarTab to display the saved pages. Tapping on a saved page would cause the current tab to jump to that saved page with the exact zoom and language as when the page was saved. The problem with the tab is that no more than one can be created, the tab will not update as more pages are saved, and the saved page buttons do not display auto-generated thumbnails.

### Annotation Functionality

Does not exist, but some of the framework has been created with the sidebar tab and button.